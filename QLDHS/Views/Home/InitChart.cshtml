
<link rel="stylesheet" href="~/Content/bootstrap.min.css">
<script src="~/Scripts/bootstrap.min.js">
</script>
<script src="~/Scripts/Chart.min.js"></script>

    <div>
        <h2 style="text-decoration-color:yellow"> Bảng thông kê phân bố lưu học sinh  </h2>
        <br />

        <canvas id="myChart"></canvas>
        <hr />
    </div>

<script>
    var data = {
        datasets: [{
            data: [300, 50, 100],
            backgroundColor: [
              "#F7464A",
              "#46BFBD",
              "#FDB45C"
            ]
        }],
        labels: [
          "Việt Nam",
          "Lào",
          "Cam pu chia"
        ]
    };

    $(document).ready(
      function () {
          var canvas = document.getElementById("myChart");
          var ctx = canvas.getContext("2d");
          var myNewChart = new Chart(ctx, {
              type: 'pie',
              data: data
          });

          canvas.onclick = function (evt) {
              var activePoints = myNewChart.getElementsAtEvent(evt);
              if (activePoints[0]) {
                  var chartData = activePoints[0]['_chart'].config.data;
                  var idx = activePoints[0]['_index'];

                  var label = chartData.labels[idx];
                  var value = chartData.datasets[0].data[idx];

                  ctx.save();
                  
                  //ctx.fillStyle = 'blue';
                  //ctx.fillRect(780, 80, 850, 110);
                  var stringTitle = "Nước : " + label;
                  ctx.fillStyle = 'black';
                  ctx.font = '15px sans-serif';
                  var text_title = stringTitle;
                  
                  ctx.fillText(stringTitle, 800, 100);
                  ctx.fillText("Số lượng : "+value, 800, 117);
                  ctx.restore();

                  
              }
          };
      }
    );

</script>
